<!DOCTYPE html>
<html lang="en" class="h-screen bg-[#101827] overflow-hidden">
<!-- Previous head content remains the same -->
<head>
        <meta charset="UTF-8">
        <!-- Google tag (gtag.js) -->
        <script async src="https://www.googletagmanager.com/gtag/js?id=G-ZT6JM33V5J"></script>
        <script>
            window.dataLayer = window.dataLayer || [];
            function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());

            gtag('config', 'G-ZT6JM33V5J');
        </script>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Classification Metrics Explorer</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto+Mono:wght@400;500;700&display=swap" rel="stylesheet">
    
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" integrity="sha512-iecdLmaskl7CVkqkXNQ/ZH/XLlvWZOJyj7Yy7tcenmpD1ypASozpmT/E0iPtmFIB46ZmdtAc9eNBvH0H/ZpiBw==" crossorigin="anonymous" referrerpolicy="no-referrer" />

    <style>
        /* Custom styles */
        body {
            font-family: 'Roboto Mono', monospace;
        }
        .formula {
            font-size: 1.4vh;
            color: #9ca3af;
            margin-bottom: 0.5vh;
            padding: 0.5vh;
            background-color: #1f2937;
            border-radius: 4px;
            border: 1px solid #374151;
        }
        .count-input {
            background-color: #1f2937;
            border: 1px solid #374151;
            color: #f3f4f6;
            border-radius: 4px;
            padding: 0.5vh 1vw;
            width: 8vw;
            text-align: center;
            font-size: 2vh;
        }
        .count-input:focus {
            outline: none;
            border-color: #8b5cf6;
        }
        /* Previous styles remain */
        .social-link svg {
            width: 2rem;
            height: 2rem;
            fill: currentColor;
            transition: color 0.2s ease;
        }
    </style>
</head>
<body class="h-screen font-['Roboto_Mono',_monospace] text-[#f3f4f6]">
    <div id="app-container" class="grid h-full grid-cols-[65vw_35vw] grid-rows-[6vh_88vh_6vh] bg-[#101827]">
        <!-- Header remains the same -->
        <header class="col-span-2 bg-[#1f2937] border-b border-[#374151] flex justify-center items-center px-[2vw]">
            <h1 class="text-[2.8vh] font-bold">Classification Metrics Explorer</h1>
        </header>

        <!-- Modified Main Panel -->
        <main id="main-viz" class="bg-[#1f2937] border-r border-[#374151] p-[2vh_2vw] flex flex-col justify-center items-center gap-[4vh]">
            <div class="relative w-[50vw] h-[50vh]">
                <span class="absolute top-0 left-1/2 -translate-x-1/2 -translate-y-[120%] text-[#9ca3af] text-[2.2vh] tracking-widest">Predicted</span>
                <span class="absolute top-1/2 left-0 -translate-x-[120%] -translate-y-1/2 rotate-[-90deg] text-[#9ca3af] text-[2.2vh] tracking-widest">Actual</span>
                
                <div id="confusion-matrix" class="w-full h-full grid grid-cols-2 grid-rows-2 gap-4">
                    <!-- True Positives -->
                    <div class="cm-cell bg-[#101827] border border-[#374151] rounded-lg p-[2vh_1.5vw] flex flex-col justify-around items-center text-center">
                        <span class="label text-[2.2vh] text-[#9ca3af]">True Positives (TP)</span>
                        <div class="count-controls flex items-center gap-[1vw]">
                            <button class="control-btn minus-btn bg-[#8b5cf6] hover:bg-[#a78bfa] transition-colors w-[3vw] h-[6vh] rounded-md text-[3vh] font-bold" data-type="tp">-</button>
                            <input type="number" class="count-input" id="tp-input" value="0" min="0">
                            <button class="control-btn plus-btn bg-[#8b5cf6] hover:bg-[#a78bfa] transition-colors w-[3vw] h-[6vh] rounded-md text-[3vh] font-bold" data-type="tp">+</button>
                        </div>
                    </div>
                    <!-- False Positives with input -->
                    <div class="cm-cell bg-[#101827] border border-[#374151] rounded-lg p-[2vh_1.5vw] flex flex-col justify-around items-center text-center">
                        <span class="label text-[2.2vh] text-[#9ca3af]">False Positives (FP)</span>
                        <div class="count-controls flex items-center gap-[1vw]">
                            <button class="control-btn minus-btn bg-[#8b5cf6] hover:bg-[#a78bfa] transition-colors w-[3vw] h-[6vh] rounded-md text-[3vh] font-bold" data-type="fp">-</button>
                            <input type="number" class="count-input" id="fp-input" value="0" min="0">
                            <button class="control-btn plus-btn bg-[#8b5cf6] hover:bg-[#a78bfa] transition-colors w-[3vw] h-[6vh] rounded-md text-[3vh] font-bold" data-type="fp">+</button>
                        </div>
                    </div>
                    <!-- False Negatives with input -->
                    <div class="cm-cell bg-[#101827] border border-[#374151] rounded-lg p-[2vh_1.5vw] flex flex-col justify-around items-center text-center">
                        <span class="label text-[2.2vh] text-[#9ca3af]">False Negatives (FN)</span>
                        <div class="count-controls flex items-center gap-[1vw]">
                            <button class="control-btn minus-btn bg-[#8b5cf6] hover:bg-[#a78bfa] transition-colors w-[3vw] h-[6vh] rounded-md text-[3vh] font-bold" data-type="fn">-</button>
                            <input type="number" class="count-input" id="fn-input" value="0" min="0">
                            <button class="control-btn plus-btn bg-[#8b5cf6] hover:bg-[#a78bfa] transition-colors w-[3vw] h-[6vh] rounded-md text-[3vh] font-bold" data-type="fn">+</button>
                        </div>
                    </div>
                    <!-- True Negatives with input -->
                    <div class="cm-cell bg-[#101827] border border-[#374151] rounded-lg p-[2vh_1.5vw] flex flex-col justify-around items-center text-center">
                        <span class="label text-[2.2vh] text-[#9ca3af]">True Negatives (TN)</span>
                        <div class="count-controls flex items-center gap-[1vw]">
                            <button class="control-btn minus-btn bg-[#8b5cf6] hover:bg-[#a78bfa] transition-colors w-[3vw] h-[6vh] rounded-md text-[3vh] font-bold" data-type="tn">-</button>
                            <input type="number" class="count-input" id="tn-input" value="0" min="0">
                            <button class="control-btn plus-btn bg-[#8b5cf6] hover:bg-[#a78bfa] transition-colors w-[3vw] h-[6vh] rounded-md text-[3vh] font-bold" data-type="tn">+</button>
                        </div>
                    </div>
                </div>
            </div>
            <!-- Controls remain the same -->
            <div id="global-controls" class="flex gap-4">
                <button id="reset-btn" class="action-btn bg-[#374151] hover:bg-[#4b5563] transition-colors text-[#f3f4f6] font-semibold py-2 px-6 rounded-lg flex items-center gap-2 text-[2.2vh]"><i class="fas fa-redo"></i> Reset</button>
                <button id="randomize-btn" class="action-btn bg-[#374151] hover:bg-[#4b5563] transition-colors text-[#f3f4f6] font-semibold py-2 px-6 rounded-lg flex items-center gap-2 text-[2.2vh]"><i class="fas fa-random"></i> Randomize</button>
            </div>
        </main>

        <!-- Modified Metrics Panel with Formulas -->
        <aside id="metrics-panel" class="bg-[#1f2937] p-[3vh_2.5vw] flex flex-col justify-around gap-[2.5vh]">
            <div class="metric-display bg-[#101827] border border-[#374151] rounded-lg p-[2vh_1.5vw] flex flex-col items-start gap-1">
                <div class="formula">Precision = TP / (TP + FP)</div>
                <span class="metric-label text-[2.2vh] text-[#9ca3af]">Precision</span>
                <span class="metric-value text-[4.5vh] font-bold text-[#8b5cf6]" id="precision-value">0.00</span>
            </div>
            <div class="metric-display bg-[#101827] border border-[#374151] rounded-lg p-[2vh_1.5vw] flex flex-col items-start gap-1">
                <div class="formula">Recall = TP / (TP + FN)</div>
                <span class="metric-label text-[2.2vh] text-[#9ca3af]">Recall</span>
                <span class="metric-value text-[4.5vh] font-bold text-[#8b5cf6]" id="recall-value">0.00</span>
            </div>
            <div class="metric-display bg-[#101827] border border-[#374151] rounded-lg p-[2vh_1.5vw] flex flex-col items-start gap-1">
                <div class="formula">F1 = 2 × (Precision × Recall) / (Precision + Recall)</div>
                <span class="metric-label text-[2.2vh] text-[#9ca3af]">F1-Score</span>
                <span class="metric-value text-[4.5vh] font-bold text-[#8b5cf6]" id="f1-value">0.00</span>
            </div>
            <div class="metric-display bg-[#101827] border border-[#374151] rounded-lg p-[2vh_1.5vw] flex flex-col items-start gap-1">
                <div class="formula">Accuracy = (TP + TN) / (TP + TN + FP + FN)</div>
                <span class="metric-label text-[2.2vh] text-[#9ca3af]">Accuracy</span>
                <span class="metric-value text-[4.5vh] font-bold text-[#8b5cf6]" id="accuracy-value">0.00</span>
            </div>
        </aside>

        <footer class="footer w-full py-8 bg-panel-backgrounds border-t border-borders">
        <div class="container mx-auto px-6 text-center text-gray-400">
            <div class="flex justify-center items-center space-x-6 mb-4">
                <a href="https://www.linkedin.com/in/ashish-jangra/" target="_blank" rel="noopener noreferrer" class="footer-icon">
                    <i class="fab fa-linkedin fa-2x"></i>
                </a>
                <a href="https://github.com/AshishJangra27" target="_blank" rel="noopener noreferrer" class="footer-icon">
                    <i class="fab fa-github fa-2x"></i>
                </a>
                 <a href="https://www.kaggle.com/ashishjangra27" target="_blank" rel="noopener noreferrer" class="footer-icon">
                    <i class="fab fa-kaggle fa-2x"></i>
                </a>
                <a href="https://huggingface.co/ashish-jangra" target="_blank" rel="noopener noreferrer" class="footer-icon">
                     <svg width="28" height="28" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="inline-block">
                        <path d="M20.24,12.2a8.24,8.24,0,1,1-16.48,0a8.24,8.24,0,0,1,16.48,0Z" fill="currentColor"></path>
                        <path d="M15.42,16.2c.18-.42.24-.84.18-1.26a4.55,4.55,0,0,0-.54-1.5,4.55,4.55,0,0,0-1.5-.54c-.42-.06-.84.06-1.26.18a4.55,4.55,0,0,0-1.5.54,4.55,4.55,0,0,0-.54,1.5c-.06.42.06.84.18,1.26a4.55,4.55,0,0,0,.54,1.5,4.55,4.55,0,0,0,1.5.54c.42.06.84,0,1.26-.18a4.55,4.55,0,0,0,1.5-.54,4.55,4.55,0,0,0,.54-1.5Z" fill="#101827"></path>
                        <path d="M10.26,10.26a1.44,1.44,0,1,1-2.88,0,1.44,1.44,0,0,1,2.88,0" fill="#101827"></path>
                        <path d="M16.62,10.26a1.44,1.44,0,1,1-2.88,0,1.44,1.44,0,0,1,2.88,0" fill="#101827"></path>
                    </svg>
                </a>
                 <a href="https://www.instagram.com/ashish_zangra/" target="_blank" rel="noopener noreferrer" class="footer-icon">
                    <i class="fab fa-instagram fa-2x"></i>
                </a>
            </div>
            <p>&copy; 2024 vizlearn. All Rights Reserved.</p>
        </div>
    </footer>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // State management
            const state = {
                tp: 0,
                fp: 0,
                fn: 0,
                tn: 0,
            };

            // DOM Element references
            const elements = {
                inputs: {
                    tp: document.getElementById('tp-input'),
                    fp: document.getElementById('fp-input'),
                    fn: document.getElementById('fn-input'),
                    tn: document.getElementById('tn-input'),
                },
                metrics: {
                    precision: document.getElementById('precision-value'),
                    recall: document.getElementById('recall-value'),
                    f1: document.getElementById('f1-value'),
                    accuracy: document.getElementById('accuracy-value'),
                },
                buttons: {
                    controlContainer: document.getElementById('confusion-matrix'),
                    reset: document.getElementById('reset-btn'),
                    randomize: document.getElementById('randomize-btn'),
                },
            };

            // Calculate metrics function remains the same
            const calculateMetrics = () => {
                const { tp, fp, fn, tn } = state;
                const total = tp + fp + fn + tn;

                const precision = (tp + fp) > 0 ? tp / (tp + fp) : 0;
                const recall = (tp + fn) > 0 ? tp / (tp + fn) : 0;
                const f1 = (precision + recall) > 0 ? 2 * (precision * recall) / (precision + recall) : 0;
                const accuracy = total > 0 ? (tp + tn) / total : 0;

                return { precision, recall, f1, accuracy };
            };

            // Modified updateUI function
            const updateUI = () => {
                // Update input values
                for (const key in state) {
                    if (elements.inputs[key]) {
                        elements.inputs[key].value = state[key];
                    }
                }

                // Calculate and update metrics display
                const metrics = calculateMetrics();
                elements.metrics.precision.textContent = metrics.precision.toFixed(2);
                elements.metrics.recall.textContent = metrics.recall.toFixed(2);
                elements.metrics.f1.textContent = metrics.f1.toFixed(2);
                elements.metrics.accuracy.textContent = metrics.accuracy.toFixed(2);
            };

            // Modified handleCountChange
            const handleCountChange = (type, value) => {
                const newValue = parseInt(value);
                if (!isNaN(newValue) && newValue >= 0) {
                    state[type] = newValue;
                    updateUI();
                }
            };

            // Reset function remains the same
            const resetCounts = () => {
                state.tp = 0;
                state.fp = 0;
                state.fn = 0;
                state.tn = 0;
                updateUI();
            };

            // Randomize function remains the same
            const randomizeCounts = () => {
                const maxRandom = 100;
                state.tp = Math.floor(Math.random() * (maxRandom + 1));
                state.fp = Math.floor(Math.random() * (maxRandom + 1));
                state.fn = Math.floor(Math.random() * (maxRandom + 1));
                state.tn = Math.floor(Math.random() * (maxRandom + 1));
                updateUI();
            };

            // Event Listeners
            elements.buttons.controlContainer.addEventListener('click', (event) => {
                const button = event.target.closest('.control-btn');
                if (!button) return;

                const type = button.dataset.type;
                const delta = button.classList.contains('plus-btn') ? 1 : -1;
                const currentValue = state[type];
                handleCountChange(type, currentValue + delta);
            });

            // Add input event listeners
            for (const [type, input] of Object.entries(elements.inputs)) {
                input.addEventListener('input', (event) => {
                    handleCountChange(type, event.target.value);
                });
            }
            
            elements.buttons.reset.addEventListener('click', resetCounts);
            elements.buttons.randomize.addEventListener('click', randomizeCounts);
            
            // Initialize
            resetCounts();
        });
    </script>
<div id="ad-container" style="text-align:center; margin: 24px 0;">
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-5059189524535831"
        crossorigin="anonymous"></script>
</div>
</body>
</html>
