<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Interactive N-gram Explainer</title>
    
    <!-- External Dependencies -->
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Roboto+Mono:wght@400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <style>
        /* Custom theme configuration */
        body {
            font-family: 'Roboto Mono', monospace;
        }
        
        /* Custom scrollbar for dark theme */
        ::-webkit-scrollbar {
            width: 8px;
        }
        
        ::-webkit-scrollbar-track {
            background: #374151;
        }
        
        ::-webkit-scrollbar-thumb {
            background: #8b5cf6;
            border-radius: 4px;
        }
        
        ::-webkit-scrollbar-thumb:hover {
            background: #a78bfa;
        }
        
        /* Custom textarea styling */
        .custom-textarea {
            background: #101827;
            border: 1px solid #374151;
            color: #f3f4f6;
            transition: all 0.3s ease;
        }
        
        .custom-textarea:focus {
            outline: none;
            border-color: #8b5cf6;
            box-shadow: 0 0 0 3px rgba(139, 92, 246, 0.15);
        }
        
        /* Custom slider styling */
        .custom-slider {
            -webkit-appearance: none;
            appearance: none;
            width: 100%;
            height: 8px;
            border-radius: 5px;
            background: #374151;
            outline: none;
            transition: all 0.3s ease;
        }
        
        .custom-slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: #8b5cf6;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .custom-slider::-webkit-slider-thumb:hover {
            background: #a78bfa;
            transform: scale(1.1);
        }
        
        .custom-slider::-moz-range-thumb {
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: #8b5cf6;
            cursor: pointer;
            border: none;
            transition: all 0.3s ease;
        }
        
        .custom-slider::-moz-range-thumb:hover {
            background: #a78bfa;
            transform: scale(1.1);
        }
        
        /* Quick select button styles */
        .quick-select-btn {
            background: #374151;
            transition: all 0.3s ease;
        }
        
        .quick-select-btn:hover {
            background: #4b5563;
            transform: translateY(-1px);
        }
        
        .quick-select-btn.active {
            background: #8b5cf6;
            color: #f3f4f6;
        }
        
        /* Reset button styles */
        .btn-secondary {
            background: #374151;
            transition: all 0.3s ease;
        }
        
        .btn-secondary:hover {
            background: #4b5563;
            transform: translateY(-1px);
        }
        
        /* N-gram pill styles */
        .ngram-pill {
            background: #101827;
            border: 1px solid #374151;
            color: #f3f4f6;
            padding: 8px 16px;
            border-radius: 20px;
            margin: 4px;
            display: inline-block;
            transition: all 0.3s ease;
            cursor: pointer;
            font-size: 14px;
        }
        
        .ngram-pill:hover {
            border-color: #8b5cf6;
            background: rgba(139, 92, 246, 0.1);
            transform: translateY(-1px);
            box-shadow: 0 4px 12px rgba(139, 92, 246, 0.2);
        }
        
        /* Fade-in animation */
        .fade-in {
            animation: fadeIn 0.5s ease-in-out;
        }
        
        @keyframes fadeIn {
            from { 
                opacity: 0; 
                transform: translateY(10px);
            }
            to { 
                opacity: 1; 
                transform: translateY(0);
            }
        }
        
        /* Highlighting for text connection */
        .highlight-source {
            background: rgba(139, 92, 246, 0.3);
            padding: 2px 4px;
            border-radius: 3px;
            transition: all 0.3s ease;
        }
        
        /* N-value display styling */
        .n-value-display {
            background: linear-gradient(135deg, #8b5cf6, #a78bfa);
            color: #f3f4f6;
            padding: 8px 16px;
            border-radius: 12px;
            font-weight: bold;
            font-size: 18px;
            text-align: center;
            margin: 8px 0;
            box-shadow: 0 4px 15px rgba(139, 92, 246, 0.3);
        }
        
        /* Empty state styling */
        .empty-state {
            color: #9ca3af;
            font-style: italic;
            text-align: center;
            padding: 40px 20px;
            border: 2px dashed #374151;
            border-radius: 12px;
            margin: 20px 0;
        }
        
        /* Count display */
        .count-display {
            background: #374151;
            color: #9ca3af;
            padding: 4px 8px;
            border-radius: 6px;
            font-size: 12px;
            margin-left: 8px;
        }
    </style>
</head>
<body class="bg-[#101827] text-[#f3f4f6] flex flex-col min-h-screen">
    <!-- Header -->
    <header class="py-6 px-4 text-center border-b border-[#374151]">
        <h1 class="text-3xl md:text-4xl font-bold text-[#f3f4f6]">
            Interactive N-gram Explainer
        </h1>
    </header>

    <!-- Main Content -->
    <main class="flex-grow flex flex-col lg:flex-row gap-6 p-6">
        <!-- Left Panel: Input & Controls -->
        <div class="lg:w-1/2 bg-[#1f2937] rounded-xl p-6 border border-[#374151]">
            <div class="h-full flex flex-col">
                <!-- Concept Explanation -->
                <div class="mb-6">
                    <h2 class="text-xl font-semibold mb-3 text-[#f3f4f6]">
                        <i class="fas fa-info-circle text-[#8b5cf6] mr-2"></i>
                        What are N-grams?
                    </h2>
                    <div class="text-[#9ca3af] text-sm leading-relaxed space-y-2">
                        <p>
                            <strong class="text-[#f3f4f6]">N-grams</strong> are contiguous sequences of N items from a given text. 
                            They're fundamental building blocks in natural language processing.
                        </p>
                        <ul class="space-y-1 text-xs">
                            <li><strong class="text-[#a78bfa]">Unigrams (N=1):</strong> Individual words</li>
                            <li><strong class="text-[#a78bfa]">Bigrams (N=2):</strong> Two consecutive words</li>
                            <li><strong class="text-[#a78bfa]">Trigrams (N=3):</strong> Three consecutive words</li>
                        </ul>
                    </div>
                </div>

                <!-- Text Input -->
                <div class="mb-6">
                    <label for="textInput" class="text-sm font-medium text-[#f3f4f6] mb-2 block">
                        <i class="fas fa-edit text-[#8b5cf6] mr-2"></i>
                        Input Text:
                    </label>
                    <textarea 
                        id="textInput" 
                        class="custom-textarea w-full p-4 rounded-lg resize-none transition-all duration-300"
                        placeholder="Enter your text here to see N-grams..."
                        rows="6"
                    >The quick brown fox jumps over the lazy dog</textarea>
                </div>

                <!-- N-gram Controls -->
                <div class="mb-6 flex-grow">
                    <h3 class="text-lg font-semibold mb-3 text-[#f3f4f6]">
                        <i class="fas fa-sliders-h text-[#8b5cf6] mr-2"></i>
                        N-gram Size
                    </h3>
                    
                    <!-- Quick Select Buttons -->
                    <div class="flex gap-2 mb-4">
                        <button class="quick-select-btn px-4 py-2 rounded font-medium text-[#f3f4f6] text-sm" 
                                onclick="setN(1)">
                            Uni (1)
                        </button>
                        <button class="quick-select-btn px-4 py-2 rounded font-medium text-[#f3f4f6] text-sm active" 
                                onclick="setN(2)">
                            Bi (2)
                        </button>
                        <button class="quick-select-btn px-4 py-2 rounded font-medium text-[#f3f4f6] text-sm" 
                                onclick="setN(3)">
                            Tri (3)
                        </button>
                    </div>
                    
                    <!-- N Value Display -->
                    <div class="n-value-display">
                        N = <span id="nValueDisplay">2</span>
                    </div>
                    
                    <!-- Slider -->
                    <div class="mb-4">
                        <input 
                            type="range" 
                            id="nSlider" 
                            class="custom-slider" 
                            min="1" 
                            max="6" 
                            value="2"
                            oninput="updateN(this.value)"
                        >
                        <div class="flex justify-between text-xs text-[#9ca3af] mt-1">
                            <span>1</span>
                            <span>2</span>
                            <span>3</span>
                            <span>4</span>
                            <span>5</span>
                            <span>6</span>
                        </div>
                    </div>
                </div>

                <!-- Reset Button -->
                <div class="mt-auto">
                    <button 
                        id="resetBtn" 
                        class="btn-secondary w-full py-3 px-4 rounded-lg font-medium text-[#f3f4f6] flex items-center justify-center"
                        onclick="resetToDefault()"
                    >
                        <i class="fas fa-undo mr-2"></i>
                        Reset to Default
                    </button>
                </div>
            </div>
        </div>

        <!-- Right Panel: Visualization -->
        <div class="lg:w-1/2 bg-[#1f2937] rounded-xl p-6 border border-[#374151]">
            <div class="h-full flex flex-col">
                <!-- Header with count -->
                <div class="flex items-center justify-between mb-4">
                    <h2 class="text-xl font-semibold text-[#f3f4f6]">
                        <i class="fas fa-list text-[#8b5cf6] mr-2"></i>
                        Generated N-grams
                    </h2>
                    <span id="ngramCount" class="count-display">0 n-grams</span>
                </div>
                
                <!-- N-grams Display -->
                <div id="ngramsDisplay" class="flex-grow overflow-y-auto">
                    <div class="empty-state">
                        <i class="fas fa-search text-4xl text-[#374151] mb-3"></i>
                        <p>Modify the text or N value to see N-grams appear here</p>
                    </div>
                </div>
                
                <!-- Info Panel -->
                <div class="mt-4 bg-[#101827] border border-[#374151] rounded-lg p-4">
                    <h4 class="text-sm font-semibold text-[#a78bfa] mb-2">
                        <i class="fas fa-lightbulb mr-1"></i>
                        Interactive Tips:
                    </h4>
                    <ul class="text-xs text-[#9ca3af] space-y-1">
                        <li>• Hover over N-grams to highlight source text</li>
                        <li>• Use the slider or buttons to change N value</li>
                        <li>• Try different sentences to see how N-grams change</li>
                        <li>• Notice how larger N values capture more context</li>
                    </ul>
                </div>
            </div>
        </div>
    </main>

    <!-- Footer -->
    <footer class="bg-[#1f2937] border-t border-[#374151] py-6 mt-auto">
        <div class="flex justify-center space-x-6">
            <a href="https://www.linkedin.com/in/ashish-jangra/" target="_blank" rel="noopener noreferrer" 
               class="text-[#9ca3af] hover:text-[#a78bfa] transition-colors duration-300">
                <i class="fab fa-linkedin fa-2x"></i>
            </a>
            <a href="https://github.com/AshishJangra27" target="_blank" rel="noopener noreferrer" 
               class="text-[#9ca3af] hover:text-[#a78bfa] transition-colors duration-300">
                <i class="fab fa-github fa-2x"></i>
            </a>
            <a href="https://www.kaggle.com/ashishjangra27" target="_blank" rel="noopener noreferrer" 
               class="text-[#9ca3af] hover:text-[#a78bfa] transition-colors duration-300">
                <i class="fab fa-kaggle fa-2x"></i>
            </a>
            <a href="https://huggingface.co/ashish-jangra" target="_blank" rel="noopener noreferrer" 
               class="text-[#9ca3af] hover:text-[#a78bfa] transition-colors duration-300">
                <svg width="32" height="32" viewBox="0 0 24 24" fill="currentColor">
                    <path d="M12.036 3L4.5 7.73v8.54l7.536 4.73 7.536-4.73V7.73L12.036 3zm5.157 3.74L12 10.5 6.807 6.74 12 4.73l5.193 2.01zm-5.157 12.72l-5.036-3.16V9.04L12 13.08l5.036-4.04v7.26L12.036 19.46z"/>
                </svg>
            </a>
            <a href="https://www.instagram.com/ashish_zangra/" target="_blank" rel="noopener noreferrer" 
               class="text-[#9ca3af] hover:text-[#a78bfa] transition-colors duration-300">
                <i class="fab fa-instagram fa-2x"></i>
            </a>
        </div>
    </footer>

    <script>
        // Global variables
        let currentN = 2;
        let currentText = '';
        let ngrams = [];
        
        // DOM elements
        const textInput = document.getElementById('textInput');
        const nSlider = document.getElementById('nSlider');
        const nValueDisplay = document.getElementById('nValueDisplay');
        const ngramsDisplay = document.getElementById('ngramsDisplay');
        const ngramCount = document.getElementById('ngramCount');
        const quickSelectButtons = document.querySelectorAll('.quick-select-btn');
        
        // Initialize the application
        function init() {
            currentText = textInput.value;
            generateNgrams();
            
            // Set up event listeners
            textInput.addEventListener('input', function() {
                currentText = this.value;
                generateNgrams();
            });
            
            // Auto-resize textarea
            textInput.addEventListener('input', function() {
                this.style.height = 'auto';
                this.style.height = Math.min(this.scrollHeight, 200) + 'px';
            });
        }
        
        // Tokenize text into words
        function tokenizeText(text) {
            return text.toLowerCase()
                      .replace(/[^\w\s]/g, '') // Remove punctuation
                      .split(/\s+/)           // Split by whitespace
                      .filter(word => word.length > 0); // Remove empty strings
        }
        
        // Generate N-grams from text
        function generateNgramsFromText(text, n) {
            const words = tokenizeText(text);
            const ngrams = [];
            
            if (words.length === 0 || n <= 0) {
                return ngrams;
            }
            
            // Generate N-grams
            for (let i = 0; i <= words.length - n; i++) {
                const ngram = words.slice(i, i + n);
                ngrams.push({
                    words: ngram,
                    text: ngram.join(' '),
                    startIndex: i,
                    endIndex: i + n - 1
                });
            }
            
            return ngrams;
        }
        
        // Update N value
        function updateN(value) {
            currentN = parseInt(value);
            nValueDisplay.textContent = currentN;
            nSlider.value = currentN;
            
            // Update button states
            updateQuickSelectButtons();
            
            // Regenerate N-grams
            generateNgrams();
        }
        
        // Set N value (for quick select buttons)
        function setN(value) {
            updateN(value);
        }
        
        // Update quick select button states
        function updateQuickSelectButtons() {
            quickSelectButtons.forEach((button, index) => {
                const buttonN = index + 1;
                if (buttonN === currentN) {
                    button.classList.add('active');
                } else {
                    button.classList.remove('active');
                }
            });
        }
        
        // Generate and display N-grams
        function generateNgrams() {
            if (!currentText.trim()) {
                displayEmptyState();
                return;
            }
            
            ngrams = generateNgramsFromText(currentText, currentN);
            displayNgrams();
        }
        
        // Display empty state
        function displayEmptyState() {
            ngramsDisplay.innerHTML = `
                <div class="empty-state">
                    <i class="fas fa-search text-4xl text-[#374151] mb-3"></i>
                    <p>Enter some text to see N-grams appear here</p>
                </div>
            `;
            ngramCount.textContent = '0 n-grams';
        }
        
        // Display N-grams as pills
        function displayNgrams() {
            if (ngrams.length === 0) {
                ngramsDisplay.innerHTML = `
                    <div class="empty-state">
                        <i class="fas fa-exclamation-triangle text-4xl text-[#374151] mb-3"></i>
                        <p>No N-grams found. Try reducing N value or adding more text.</p>
                    </div>
                `;
                ngramCount.textContent = '0 n-grams';
                return;
            }
            
            let html = '<div class="flex flex-wrap gap-2">';
            
            ngrams.forEach((ngram, index) => {
                html += `
                    <div class="ngram-pill fade-in" 
                         style="animation-delay: ${index * 0.05}s"
                         onmouseenter="highlightSourceText(${ngram.startIndex}, ${ngram.endIndex})"
                         onmouseleave="clearHighlight()"
                         onclick="selectNgram('${ngram.text}')">
                        ${ngram.text}
                    </div>
                `;
            });
            
            html += '</div>';
            
            // Add statistics
            html += `
                <div class="mt-6 p-4 bg-[#101827] border border-[#374151] rounded-lg">
                    <h4 class="text-sm font-semibold text-[#a78bfa] mb-2">
                        <i class="fas fa-chart-bar mr-1"></i>
                        Statistics:
                    </h4>
                    <div class="grid grid-cols-2 gap-4 text-xs text-[#9ca3af]">
                        <div>
                            <span class="text-[#f3f4f6] font-medium">Total N-grams:</span>
                            <span class="text-[#8b5cf6] ml-1">${ngrams.length}</span>
                        </div>
                        <div>
                            <span class="text-[#f3f4f6] font-medium">Unique N-grams:</span>
                            <span class="text-[#8b5cf6] ml-1">${getUniqueNgramsCount()}</span>
                        </div>
                        <div>
                            <span class="text-[#f3f4f6] font-medium">Word count:</span>
                            <span class="text-[#8b5cf6] ml-1">${tokenizeText(currentText).length}</span>
                        </div>
                        <div>
                            <span class="text-[#f3f4f6] font-medium">N-gram size:</span>
                            <span class="text-[#8b5cf6] ml-1">${currentN}</span>
                        </div>
                    </div>
                </div>
            `;
            
            ngramsDisplay.innerHTML = html;
            ngramCount.textContent = `${ngrams.length} n-grams`;
        }
        
        // Get count of unique N-grams
        function getUniqueNgramsCount() {
            const uniqueNgrams = new Set(ngrams.map(ngram => ngram.text));
            return uniqueNgrams.size;
        }
        
        // Highlight source text when hovering over N-gram
        function highlightSourceText(startIndex, endIndex) {
            const words = tokenizeText(currentText);
            if (words.length === 0) return;
            
            // Create highlighted version of the original text
            const originalWords = textInput.value.trim().split(/\s+/);
            let highlightedText = '';
            
            originalWords.forEach((word, index) => {
                if (index >= startIndex && index <= endIndex) {
                    highlightedText += `<span class="highlight-source">${word}</span>`;
                } else {
                    highlightedText += word;
                }
                
                if (index < originalWords.length - 1) {
                    highlightedText += ' ';
                }
            });
            
            // Temporarily show highlighted text
            const originalValue = textInput.value;
            textInput.style.position = 'relative';
            
            // Create overlay for highlighting effect
            if (!document.getElementById('textHighlightOverlay')) {
                const overlay = document.createElement('div');
                overlay.id = 'textHighlightOverlay';
                overlay.style.cssText = `
                    position: absolute;
                    top: 0;
                    left: 0;
                    right: 0;
                    bottom: 0;
                    background: #101827;
                    color: #f3f4f6;
                    padding: 16px;
                    border-radius: 8px;
                    pointer-events: none;
                    z-index: 10;
                    font-family: 'Roboto Mono', monospace;
                    font-size: 14px;
                    line-height: 1.5;
                    white-space: pre-wrap;
                    overflow: hidden;
                `;
                textInput.parentNode.style.position = 'relative';
                textInput.parentNode.appendChild(overlay);
            }
            
            const overlay = document.getElementById('textHighlightOverlay');
            overlay.innerHTML = highlightedText;
            overlay.style.display = 'block';
        }
        
        // Clear highlighting
        function clearHighlight() {
            const overlay = document.getElementById('textHighlightOverlay');
            if (overlay) {
                overlay.style.display = 'none';
            }
        }
        
        // Handle N-gram selection (for future enhancements)
        function selectNgram(ngramText) {
            // Future enhancement: could show detailed information about the selected N-gram
            console.log('Selected N-gram:', ngramText);
        }
        
        // Reset to default state
        function resetToDefault() {
            textInput.value = 'The quick brown fox jumps over the lazy dog';
            currentText = textInput.value;
            updateN(2);
            generateNgrams();
            
            // Clear any highlighting
            clearHighlight();
            
            // Focus on text input
            textInput.focus();
        }
        
        // Initialize the application when DOM is loaded
        document.addEventListener('DOMContentLoaded', function() {
            init();
            // Generate initial N-grams
            setTimeout(generateNgrams, 100);
        });
        
        // Make functions globally available
        window.setN = setN;
        window.updateN = updateN;
        window.resetToDefault = resetToDefault;
        window.highlightSourceText = highlightSourceText;
        window.clearHighlight = clearHighlight;
        window.selectNgram = selectNgram;
    </script>
</body>
</html>
