<!DOCTYPE html>
<html lang="en">
<head>
        <meta charset="UTF-8">
        <!-- Google tag (gtag.js) -->
        <script async src="https://www.googletagmanager.com/gtag/js?id=G-ZT6JM33V5J"></script>
        <script>
            window.dataLayer = window.dataLayer || [];
            function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());

            gtag('config', 'G-ZT6JM33V5J');
        </script>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Stemming vs Lemmatization</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Google Fonts: Roboto Mono -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto+Mono:wght@400;500;700&display=swap" rel="stylesheet">
    
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">

    <style>
        /* Apply custom font and theme colors */
        body {
            font-family: 'Roboto Mono', monospace;
            background-color: #101827;
            color: #f3f4f6;
        }

        /* Custom styles for a polished look */
        .panel {
            background-color: #1f2937;
            border: 1px solid #374151;
            border-radius: 0.5rem;
            padding: 1.5rem;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
        }

        .btn {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            padding: 0.75rem 1.5rem;
            border-radius: 0.375rem;
            font-weight: 500;
            transition: all 0.2s ease-in-out;
            cursor: pointer;
            border: 1px solid transparent;
        }

        .btn-primary {
            background-color: #8b5cf6;
            color: #f3f4f6;
            border-color: #8b5cf6;
        }

        .btn-primary:hover {
            background-color: #a78bfa;
            border-color: #a78bfa;
        }
        
        .btn-secondary {
            background-color: transparent;
            color: #9ca3af;
            border-color: #374151;
        }

        .btn-secondary:hover {
            background-color: #374151;
            color: #f3f4f6;
        }

        textarea {
            background-color: #101827;
            border: 1px solid #374151;
            color: #f3f4f6;
            border-radius: 0.375rem;
            padding: 0.75rem;
            resize: none;
        }
        
        textarea:focus {
            outline: none;
            border-color: #8b5cf6;
            box-shadow: 0 0 0 2px #8b5cf6;
        }

        .footer-icon {
            color: #9ca3af;
            transition: color 0.2s ease-in-out;
        }

        .footer-icon:hover {
            color: #8b5cf6;
        }

        /* Animation for result display */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .result-word {
            animation: fadeIn 0.5s ease-out forwards;
            opacity: 0; /* Start hidden for animation */
        }
    </style>
</head>
<body class="flex flex-col min-h-screen">

    <!-- Header -->
    <header class="text-center py-6 border-b border-b-gray-800">
        <h1 class="text-3xl font-bold tracking-wider text-f3f4f6">Stemming vs Lemmatization</h1>
    </header>

    <!-- Main Content -->
    <main class="flex-grow w-full p-4 md:p-8">
        <div class="max-w-7xl mx-auto">
            <div class="grid grid-cols-1 lg:grid-cols-5 gap-8">
                
                <!-- Left Panel: Input & Controls -->
                <div class="panel flex flex-col gap-6 lg:col-span-2">
                    <div class="h-full flex flex-col">
                        <h2 class="text-xl font-semibold mb-4 text-f3f4f6">Input Text</h2>
                        <p class="text-sm text-gray-400 mb-4">Enter text below to see how stemming and lemmatization work. The processes reduce words to their base or root form.</p>
                        <textarea id="inputText" class="w-full flex-grow text-base" rows="10">The quick brown foxes are jumping over the lazy dogs. They were running and studying linguistics.</textarea>
                        <div class="flex items-center justify-end gap-4 mt-6">
                            <button id="resetBtn" class="btn btn-secondary">
                                <i class="fas fa-undo mr-2"></i>Reset
                            </button>
                            <button id="normalizeBtn" class="btn btn-primary">
                                <i class="fas fa-cogs mr-2"></i>Normalize Text
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Right Panel: Output -->
                <div class="panel lg:col-span-3">
                    <h2 class="text-xl font-semibold mb-2 text-f3f4f6">Normalization Results</h2>
                    <div class="grid grid-cols-3 gap-4 text-center border-b border-gray-700 pb-4 mb-6">
                        <div>
                            <h3 class="font-bold text-gray-400">Original</h3>
                            <p class="text-xs text-gray-500">The word as it appears in the text.</p>
                        </div>
                        <div>
                            <h3 class="font-bold text-gray-400">Stemmed</h3>
                            <p class="text-xs text-gray-500">Reduced to its root by removing suffixes.</p>
                        </div>
                        <div>
                            <h3 class="font-bold text-gray-400">Lemmatized</h3>
                            <p class="text-xs text-gray-500">Converted to its meaningful base form (lemma).</p>
                        </div>
                    </div>
                    <div id="outputContainer" class="grid grid-cols-3 gap-4 text-center overflow-y-auto max-h-[30rem] pr-2">
                        <!-- Results will be dynamically inserted here -->
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Footer -->
    <footer class="text-center py-6 mt-8 border-t border-t-gray-800">
        <div class="flex justify-center items-center space-x-6">
            <a href="https://www.linkedin.com/in/ashish-jangra/" target="_blank" class="footer-icon text-2xl"><i class="fab fa-linkedin"></i></a>
            <a href="https://github.com/AshishJangra27" target="_blank" class="footer-icon text-2xl"><i class="fab fa-github"></i></a>
            <a href="https://www.kaggle.com/ashishjangra27" target="_blank" class="footer-icon text-2xl"><i class="fab fa-kaggle"></i></a>
            <a href="https://huggingface.co/ashish-jangra" target="_blank" class="footer-icon text-2xl">ðŸ¤—</a>
            <a href="https://www.instagram.com/ashish_zangra/" target="_blank" class="footer-icon text-2xl"><i class="fab fa-instagram"></i></a>
        </div>
    </footer>

    <script>
        // --- DOM Elements ---
        const inputText = document.getElementById('inputText');
        const normalizeBtn = document.getElementById('normalizeBtn');
        const resetBtn = document.getElementById('resetBtn');
        const outputContainer = document.getElementById('outputContainer');
        const defaultText = "The quick brown foxes are jumping over the lazy dogs. They were running and studying linguistics.";

        // --- Simple Lemmatization Dictionary (for demonstration) ---
        const lemmaDict = {
            "are": "be", "is": "be", "was": "be", "were": "be",
            "jumping": "jump", "jumped": "jump", "jumps": "jump",
            "running": "run", "ran": "run", "runs": "run",
            "studying": "study", "studies": "study", "studied": "study",
            "foxes": "fox",
            "dogs": "dog",
            "linguistics": "linguistic"
        };
        
        // --- Porter Stemmer Implementation (a simplified version for demonstration) ---
        const stemmer = (function(){
            const step2list = {"ational":"ate","tional":"tion","enci":"ence","anci":"ance","izer":"ize","bli":"ble","alli":"al","entli":"ent","eli":"e","ousli":"ous","ization":"ize","ation":"ate","ator":"ate","alism":"al","iveness":"ive","fulness":"ful","ousness":"ous","aliti":"al","iviti":"ive","biliti":"ble","logi":"log"};
            const step3list = {"icate":"ic","ative":"","alize":"al","iciti":"ic","ical":"ic","ful":"","ness":""};
            const c = "[^aeiou]", v = "[aeiouy]", C = c + "[^aeiouy]*", V = v + "[aeiouy]*";
            const mgr0 = "^(" + C + ")?" + V + C, meq1 = "^(" + C + ")?" + V + C + "(" + V + ")?$", mgr1 = "^(" + C + ")?" + V + C + V + C, s_v = "^(" + C + ")?" + v;

            return function (w) {
                let stem, suffix, firstch, re, re2, re3, re4, origword = w;
                if (w.length < 3) { return w; }
                firstch = w.substr(0,1);
                if (firstch == "y") { w = firstch.toUpperCase() + w.substr(1); }
                re = /^(.+?)(ss|i)es$/; re2 = /^(.+?)([^s])s$/;
                if (re.test(w)) { w = w.replace(re,"$1$2"); } else if (re2.test(w)) { w = w.replace(re2,"$1$2"); }
                re = /^(.+?)eed$/; re2 = /^(.+?)(ed|ing)$/;
                if (re.test(w)) {
                    if (w.match(new RegExp(mgr0))) { w = w.slice(0, -1); }
                } else if (re2.test(w)) {
                    let fp = re2.exec(w); stem = fp[1];
                    if (stem.match(new RegExp(s_v))) {
                        w = stem;
                        re2 = /(at|bl|iz)$/; re3 = new RegExp("([^aeiouylsz])\\1$"); re4 = new RegExp("^" + C + v + "[^aeiouwxy]$");
                        if (re2.test(w)) { w = w + "e"; }
                        else if (re3.test(w)) { w = w.slice(0, -1); }
                        else if (re4.test(w)) { w = w + "e"; }
                    }
                }
                re = /^(.+?)y$/;
                if (re.test(w)) {
                    let fp = re.exec(w); stem = fp[1];
                    if (stem.match(new RegExp(s_v))) { w = stem + "i"; }
                }
                re = /^(.+?)(ational|tional|enci|anci|izer|bli|alli|entli|eli|ousli|ization|ation|ator|alism|iveness|fulness|ousness|aliti|iviti|biliti|logi)$/;
                if (re.test(w)) {
                    let fp = re.exec(w); stem = fp[1]; suffix = fp[2];
                    if (stem.match(new RegExp(mgr0))) { w = stem + step2list[suffix]; }
                }
                re = /^(.+?)(icate|ative|alize|iciti|ical|ful|ness)$/;
                if (re.test(w)) {
                    let fp = re.exec(w); stem = fp[1]; suffix = fp[2];
                    if (stem.match(new RegExp(mgr0))) { w = stem + step3list[suffix]; }
                }
                re = /^(.+?)(al|ance|ence|er|ic|able|ible|ant|ement|ment|ent|ou|ism|ate|iti|ous|ive|ize)$/;
                re2 = /^(.+?)(s|t)(ion)$/;
                if (re.test(w)) {
                    let fp = re.exec(w); stem = fp[1];
                    if (stem.match(new RegExp(mgr1))) { w = stem; }
                } else if (re2.test(w)) {
                    let fp = re2.exec(w); stem = fp[1] + fp[2];
                    if (stem.match(new RegExp(mgr1))) { w = stem; }
                }
                re = /^(.+?)e$/;
                if (re.test(w)) {
                    let fp = re.exec(w); stem = fp[1];
                    if (stem.match(new RegExp(mgr1)) || (stem.match(new RegExp(meq1)) && !stem.match(new RegExp("^" + C + v + "[^aeiouwxy]$")))) { w = stem; }
                }
                re = /ll$/; re2 = new RegExp(mgr1);
                if (re.test(w) && re2.test(w)) { w = w.slice(0,-1); }
                if (firstch == "y") { w = firstch.toLowerCase() + w.substr(1); }
                return w;
            }
        })();

        // --- Core Application Logic ---

        /**
         * Processes the input text and displays the normalization results.
         */
        function normalizeText() {
            const text = inputText.value;
            // Tokenize: split by space and remove punctuation. Keep it simple for this demo.
            const words = text.toLowerCase().replace(/[.,\/#!$%\^&\*;:{}=\-_`~()]/g,"").split(/\s+/).filter(Boolean);

            // Clear previous results
            outputContainer.innerHTML = '';

            // Process each word and display the result
            words.forEach((word, index) => {
                const stemmedWord = stemmer(word);
                const lemmatizedWord = lemmaDict[word] || word; // Use dictionary or default to original word

                // Create elements for each column
                const originalEl = document.createElement('div');
                originalEl.textContent = word;
                originalEl.className = 'result-word p-2 bg-gray-800 rounded';
                originalEl.style.animationDelay = `${index * 50}ms`;

                const stemmedEl = document.createElement('div');
                stemmedEl.textContent = stemmedWord;
                stemmedEl.className = 'result-word p-2 bg-gray-800 rounded';
                stemmedEl.style.animationDelay = `${index * 50}ms`;

                const lemmatizedEl = document.createElement('div');
                lemmatizedEl.textContent = lemmatizedWord;
                lemmatizedEl.className = 'result-word p-2 bg-gray-800 rounded';
                lemmatizedEl.style.animationDelay = `${index * 50}ms`;
                
                // Highlight differences
                if (stemmedWord !== word) stemmedEl.classList.add('text-purple-400');
                if (lemmatizedWord !== word) lemmatizedEl.classList.add('text-purple-400');

                outputContainer.appendChild(originalEl);
                outputContainer.appendChild(stemmedEl);
                outputContainer.appendChild(lemmatizedEl);
            });
        }

        /**
         * Resets the application to its default state.
         */
        function resetApp() {
            inputText.value = defaultText;
            outputContainer.innerHTML = '';
            normalizeText(); // Re-run on default text after reset
        }

        // --- Event Listeners ---
        normalizeBtn.addEventListener('click', normalizeText);
        resetBtn.addEventListener('click', resetApp);

        // --- Initial Run ---
        // Run the normalization on the default text when the page loads.
        window.addEventListener('load', normalizeText);

    </script>
</body>
</html>
