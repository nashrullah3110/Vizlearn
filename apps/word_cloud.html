<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Interactive Word Cloud Explainer</title>
    
    <!-- External Dependencies -->
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Roboto+Mono:wght@400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <style>
        /* Custom theme configuration */
        body {
            font-family: 'Roboto Mono', monospace;
        }
        
        /* Custom scrollbar for dark theme */
        ::-webkit-scrollbar {
            width: 8px;
        }
        
        ::-webkit-scrollbar-track {
            background: #374151;
        }
        
        ::-webkit-scrollbar-thumb {
            background: #8b5cf6;
            border-radius: 4px;
        }
        
        ::-webkit-scrollbar-thumb:hover {
            background: #a78bfa;
        }
        
        /* Custom textarea styling */
        .custom-textarea {
            background: #101827;
            border: 1px solid #374151;
            color: #f3f4f6;
            transition: all 0.3s ease;
        }
        
        .custom-textarea:focus {
            outline: none;
            border-color: #8b5cf6;
            box-shadow: 0 0 0 3px rgba(139, 92, 246, 0.15);
        }
        
        /* Custom slider styling */
        .custom-slider {
            -webkit-appearance: none;
            appearance: none;
            width: 100%;
            height: 8px;
            border-radius: 5px;
            background: #374151;
            outline: none;
            transition: all 0.3s ease;
        }
        
        .custom-slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: #8b5cf6;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .custom-slider::-webkit-slider-thumb:hover {
            background: #a78bfa;
            transform: scale(1.1);
        }
        
        .custom-slider::-moz-range-thumb {
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: #8b5cf6;
            cursor: pointer;
            border: none;
            transition: all 0.3s ease;
        }
        
        .custom-slider::-moz-range-thumb:hover {
            background: #a78bfa;
            transform: scale(1.1);
        }
        
        /* Toggle switch styling */
        .toggle-switch {
            position: relative;
            display: inline-block;
            width: 50px;
            height: 24px;
        }
        
        .toggle-switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }
        
        .toggle-slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: #374151;
            transition: 0.3s;
            border-radius: 24px;
        }
        
        .toggle-slider:before {
            position: absolute;
            content: "";
            height: 18px;
            width: 18px;
            left: 3px;
            bottom: 3px;
            background-color: #9ca3af;
            transition: 0.3s;
            border-radius: 50%;
        }
        
        input:checked + .toggle-slider {
            background-color: #8b5cf6;
        }
        
        input:checked + .toggle-slider:before {
            transform: translateX(26px);
            background-color: #f3f4f6;
        }
        
        /* Button styles */
        .btn-primary {
            background: linear-gradient(135deg, #8b5cf6, #a78bfa);
            transition: all 0.3s ease;
        }
        
        .btn-primary:hover:not(:disabled) {
            background: linear-gradient(135deg, #a78bfa, #c4b5fd);
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(139, 92, 246, 0.4);
        }
        
        .btn-primary:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none;
        }
        
        .btn-secondary {
            background: #374151;
            transition: all 0.3s ease;
        }
        
        .btn-secondary:hover {
            background: #4b5563;
            transform: translateY(-1px);
        }
        
        /* Word cloud container */
        .word-cloud-container {
            background: #101827;
            border: 2px solid #374151;
            border-radius: 12px;
            min-height: 400px;
            position: relative;
            overflow: hidden;
        }
        
        /* Word cloud words */
        .word-cloud-word {
            position: absolute;
            cursor: pointer;
            transition: all 0.3s ease;
            user-select: none;
            font-weight: bold;
            color: #8b5cf6;
        }
        
        .word-cloud-word:hover {
            color: #a78bfa;
            transform: scale(1.1);
            z-index: 10;
        }
        
        /* Loading spinner */
        .spinner {
            border: 3px solid #374151;
            border-top: 3px solid #8b5cf6;
            border-radius: 50%;
            width: 24px;
            height: 24px;
            animation: spin 1s linear infinite;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        /* Empty state */
        .empty-state {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100%;
            color: #9ca3af;
            text-align: center;
            padding: 40px 20px;
        }
        
        /* Fade-in animation */
        .fade-in {
            animation: fadeIn 0.5s ease-in-out;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        /* Word frequency tooltip */
        .word-tooltip {
            position: absolute;
            background: #1f2937;
            color: #f3f4f6;
            padding: 6px 10px;
            border-radius: 6px;
            font-size: 12px;
            border: 1px solid #374151;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
            z-index: 1000;
            pointer-events: none;
            opacity: 0;
            transition: opacity 0.3s ease;
        }
        
        .word-tooltip.visible {
            opacity: 1;
        }
    </style>
</head>
<body class="bg-[#101827] text-[#f3f4f6] flex flex-col min-h-screen">
    <!-- Word frequency tooltip -->
    <div id="wordTooltip" class="word-tooltip"></div>
    
    <!-- Header -->
    <header class="py-6 px-4 text-center border-b border-[#374151]">
        <h1 class="text-3xl md:text-4xl font-bold text-[#f3f4f6]">
            Interactive Explainer: Word Cloud
        </h1>
    </header>

    <!-- Main Content -->
    <main class="flex-grow flex flex-col lg:flex-row gap-6 p-6">
        <!-- Left Panel: Controls & Information -->
        <div class="lg:w-1/2 bg-[#1f2937] rounded-xl p-6 border border-[#374151]">
            <div class="h-full flex flex-col space-y-6">
                <!-- Input Text Section -->
                <div class="flex-grow">
                    <h2 class="text-xl font-semibold mb-3 text-[#f3f4f6]">
                        <i class="fas fa-edit text-[#8b5cf6] mr-2"></i>
                        Input Text
                    </h2>
                    <textarea 
                        id="inputText" 
                        class="custom-textarea w-full p-4 rounded-lg resize-none h-40"
                        placeholder="Enter your text here to generate a word cloud..."
                    >Natural language processing is a subfield of artificial intelligence that focuses on the interaction between computers and human language. It involves developing algorithms and models that can understand, interpret, and generate human language. Word clouds are a popular visualization technique in natural language processing that display the most frequent words in a text corpus, with word size representing frequency. This makes it easy to identify key themes and topics within large amounts of text data.</textarea>
                </div>

                <!-- Controls Section -->
                <div>
                    <h3 class="text-lg font-semibold mb-4 text-[#f3f4f6]">
                        <i class="fas fa-cogs text-[#8b5cf6] mr-2"></i>
                        Controls
                    </h3>
                    
                    <!-- Filter Stop Words Toggle -->
                    <div class="mb-4 flex items-center justify-between">
                        <label class="text-sm font-medium text-[#f3f4f6]">
                            Filter Stop Words
                            <span class="text-xs text-[#9ca3af] block">Remove common words like 'the', 'is', 'a'</span>
                        </label>
                        <label class="toggle-switch">
                            <input type="checkbox" id="filterStopWords" checked>
                            <span class="toggle-slider"></span>
                        </label>
                    </div>
                    
                    <!-- Max Words Slider -->
                    <div class="mb-6">
                        <label class="text-sm font-medium text-[#f3f4f6] block mb-2">
                            Max Words: <span id="maxWordsValue" class="text-[#8b5cf6]">50</span>
                        </label>
                        <input 
                            type="range" 
                            id="maxWordsSlider" 
                            class="custom-slider" 
                            min="10" 
                            max="100" 
                            value="50"
                        >
                        <div class="flex justify-between text-xs text-[#9ca3af] mt-1">
                            <span>10</span>
                            <span>25</span>
                            <span>50</span>
                            <span>75</span>
                            <span>100</span>
                        </div>
                    </div>
                    
                    <!-- Action Buttons -->
                    <div class="flex gap-3">
                        <button 
                            id="generateBtn" 
                            class="btn-primary flex-1 py-3 px-4 rounded-lg font-medium text-white flex items-center justify-center"
                        >
                            <i class="fas fa-cloud mr-2"></i>
                            Generate Cloud
                        </button>
                        <button 
                            id="resetBtn" 
                            class="btn-secondary py-3 px-4 rounded-lg font-medium text-[#f3f4f6] flex items-center justify-center"
                        >
                            <i class="fas fa-undo mr-2"></i>
                            Reset
                        </button>
                    </div>
                </div>

                <!-- Explanation Section -->
                <div class="bg-[#101827] border border-[#374151] rounded-lg p-4">
                    <h3 class="text-lg font-semibold mb-3 text-[#f3f4f6]">
                        <i class="fas fa-lightbulb text-[#8b5cf6] mr-2"></i>
                        What is a Word Cloud?
                    </h3>
                    <div class="text-[#9ca3af] text-sm space-y-2">
                        <p>
                            A <strong class="text-[#f3f4f6]">word cloud</strong> is a visual representation of text data 
                            where the size of each word indicates its frequency in the source text.
                        </p>
                        <ul class="space-y-1 text-xs">
                            <li><strong class="text-[#a78bfa]">Larger words</strong> appear more frequently</li>
                            <li><strong class="text-[#a78bfa]">Smaller words</strong> appear less frequently</li>
                            <li><strong class="text-[#a78bfa]">Stop words</strong> are often filtered out</li>
                            <li><strong class="text-[#a78bfa]">Position</strong> is typically random for aesthetics</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>

        <!-- Right Panel: Visualization -->
        <div class="lg:w-1/2 bg-[#1f2937] rounded-xl p-6 border border-[#374151]">
            <div class="h-full flex flex-col">
                <!-- Visualization Header -->
                <div class="flex items-center justify-between mb-4">
                    <h2 class="text-xl font-semibold text-[#f3f4f6]">
                        <i class="fas fa-cloud text-[#8b5cf6] mr-2"></i>
                        Word Cloud Visualization
                    </h2>
                    <span id="wordCount" class="text-sm text-[#9ca3af] bg-[#374151] px-3 py-1 rounded">
                        0 words
                    </span>
                </div>
                
                <!-- Word Cloud Container -->
                <div id="wordCloudContainer" class="word-cloud-container flex-grow relative">
                    <div class="empty-state">
                        <i class="fas fa-cloud text-6xl text-[#374151] mb-4"></i>
                        <p class="text-lg font-medium">Your Word Cloud Will Appear Here</p>
                        <p class="text-sm mt-2">Click "Generate Cloud" to create a visualization from your text</p>
                    </div>
                </div>
                
                <!-- Statistics Panel -->
                <div id="statsPanel" class="mt-4 bg-[#101827] border border-[#374151] rounded-lg p-4" style="display: none;">
                    <h4 class="text-sm font-semibold text-[#a78bfa] mb-2">
                        <i class="fas fa-chart-bar mr-1"></i>
                        Text Statistics
                    </h4>
                    <div class="grid grid-cols-2 gap-4 text-xs text-[#9ca3af]">
                        <div>
                            <span class="text-[#f3f4f6]">Total words:</span>
                            <span id="totalWords" class="text-[#8b5cf6] ml-1">0</span>
                        </div>
                        <div>
                            <span class="text-[#f3f4f6]">Unique words:</span>
                            <span id="uniqueWords" class="text-[#8b5cf6] ml-1">0</span>
                        </div>
                        <div>
                            <span class="text-[#f3f4f6]">Words displayed:</span>
                            <span id="displayedWords" class="text-[#8b5cf6] ml-1">0</span>
                        </div>
                        <div>
                            <span class="text-[#f3f4f6]">Stop words filtered:</span>
                            <span id="filteredWords" class="text-[#8b5cf6] ml-1">0</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Footer -->
    <footer class="bg-[#1f2937] border-t border-[#374151] py-6 mt-auto">
        <div class="flex justify-center space-x-6">
            <a href="https://www.linkedin.com/in/ashish-jangra/" target="_blank" rel="noopener noreferrer" 
               class="text-[#9ca3af] hover:text-[#a78bfa] transition-colors duration-300">
                <i class="fab fa-linkedin fa-2x"></i>
            </a>
            <a href="https://github.com/AshishJangra27" target="_blank" rel="noopener noreferrer" 
               class="text-[#9ca3af] hover:text-[#a78bfa] transition-colors duration-300">
                <i class="fab fa-github fa-2x"></i>
            </a>
            <a href="https://www.kaggle.com/ashishjangra27" target="_blank" rel="noopener noreferrer" 
               class="text-[#9ca3af] hover:text-[#a78bfa] transition-colors duration-300">
                <i class="fab fa-kaggle fa-2x"></i>
            </a>
            <a href="https://huggingface.co/ashish-jangra" target="_blank" rel="noopener noreferrer" 
               class="text-[#9ca3af] hover:text-[#a78bfa] transition-colors duration-300">
                <svg width="32" height="32" viewBox="0 0 24 24" fill="currentColor">
                    <path d="M12.036 3L4.5 7.73v8.54l7.536 4.73 7.536-4.73V7.73L12.036 3zm5.157 3.74L12 10.5 6.807 6.74 12 4.73l5.193 2.01zm-5.157 12.72l-5.036-3.16V9.04L12 13.08l5.036-4.04v7.26L12.036 19.46z"/>
                </svg>
            </a>
            <a href="https://www.instagram.com/ashish_zangra/" target="_blank" rel="noopener noreferrer" 
               class="text-[#9ca3af] hover:text-[#a78bfa] transition-colors duration-300">
                <i class="fab fa-instagram fa-2x"></i>
            </a>
        </div>
    </footer>

    <script>
        // Global variables
        let wordFrequencies = {};
        let displayedWords = [];
        let currentText = '';
        
        // Common stop words to filter out
        const stopWords = new Set([
            'the', 'be', 'to', 'of', 'and', 'a', 'in', 'that', 'have', 'i', 'it', 'for', 'not', 'on', 'with',
            'he', 'as', 'you', 'do', 'at', 'this', 'but', 'his', 'by', 'from', 'they', 'we', 'say', 'her',
            'she', 'or', 'an', 'will', 'my', 'one', 'all', 'would', 'there', 'their', 'what', 'so', 'up',
            'out', 'if', 'about', 'who', 'get', 'which', 'go', 'me', 'when', 'make', 'can', 'like', 'time',
            'no', 'just', 'him', 'know', 'take', 'people', 'into', 'year', 'your', 'good', 'some', 'could',
            'them', 'see', 'other', 'than', 'then', 'now', 'look', 'only', 'come', 'its', 'over', 'think',
            'also', 'back', 'after', 'use', 'two', 'how', 'our', 'work', 'first', 'well', 'way', 'even',
            'new', 'want', 'because', 'any', 'these', 'give', 'day', 'most', 'us', 'is', 'was', 'are'
        ]);
        
        // DOM elements
        const inputText = document.getElementById('inputText');
        const filterStopWordsCheckbox = document.getElementById('filterStopWords');
        const maxWordsSlider = document.getElementById('maxWordsSlider');
        const maxWordsValue = document.getElementById('maxWordsValue');
        const generateBtn = document.getElementById('generateBtn');
        const resetBtn = document.getElementById('resetBtn');
        const wordCloudContainer = document.getElementById('wordCloudContainer');
        const wordCount = document.getElementById('wordCount');
        const statsPanel = document.getElementById('statsPanel');
        const wordTooltip = document.getElementById('wordTooltip');
        
        // Initialize the application
        function init() {
            setupEventListeners();
            updateMaxWordsDisplay();
            generateWordCloud(); // Generate initial word cloud
        }
        
        // Set up event listeners
        function setupEventListeners() {
            generateBtn.addEventListener('click', generateWordCloud);
            resetBtn.addEventListener('click', resetApplication);
            
            maxWordsSlider.addEventListener('input', function() {
                updateMaxWordsDisplay();
                if (Object.keys(wordFrequencies).length > 0) {
                    generateWordCloud();
                }
            });
            
            filterStopWordsCheckbox.addEventListener('change', function() {
                if (Object.keys(wordFrequencies).length > 0) {
                    generateWordCloud();
                }
            });
            
            inputText.addEventListener('input', function() {
                updateGenerateButtonState();
            });
            
            // Auto-resize textarea
            inputText.addEventListener('input', function() {
                this.style.height = 'auto';
                this.style.height = Math.min(this.scrollHeight, 200) + 'px';
            });
        }
        
        // Update max words display
        function updateMaxWordsDisplay() {
            maxWordsValue.textContent = maxWordsSlider.value;
        }
        
        // Update generate button state
        function updateGenerateButtonState() {
            const hasText = inputText.value.trim().length > 0;
            generateBtn.disabled = !hasText;
        }
        
        // Tokenize and count word frequencies
        function processText(text) {
            // Basic text preprocessing
            const words = text.toLowerCase()
                             .replace(/[^\w\s]/g, '') // Remove punctuation
                             .split(/\s+/)           // Split by whitespace
                             .filter(word => word.length > 1); // Remove single characters
            
            const frequencies = {};
            let filteredCount = 0;
            
            words.forEach(word => {
                if (filterStopWordsCheckbox.checked && stopWords.has(word)) {
                    filteredCount++;
                    return;
                }
                frequencies[word] = (frequencies[word] || 0) + 1;
            });
            
            return {
                frequencies,
                totalWords: words.length,
                filteredCount
            };
        }
        
        // Generate color for word based on frequency
        function getWordColor(frequency, maxFreq) {
            const intensity = frequency / maxFreq;
            if (intensity > 0.8) return '#8b5cf6';
            if (intensity > 0.6) return '#a78bfa';
            if (intensity > 0.4) return '#c4b5fd';
            if (intensity > 0.2) return '#ddd6fe';
            return '#e9d5ff';
        }
        
        // Generate font size based on frequency
        function getFontSize(frequency, maxFreq, minSize = 12, maxSize = 48) {
            const ratio = frequency / maxFreq;
            return Math.floor(minSize + (maxSize - minSize) * ratio);
        }
        
        // Check if position overlaps with existing words
        function checkOverlap(x, y, width, height, existingWords) {
            const margin = 5;
            for (let word of existingWords) {
                if (x < word.x + word.width + margin &&
                    x + width + margin > word.x &&
                    y < word.y + word.height + margin &&
                    y + height + margin > word.y) {
                    return true;
                }
            }
            return false;
        }
        
        // Find non-overlapping position for word
        function findPosition(width, height, containerWidth, containerHeight, existingWords) {
            const maxAttempts = 100;
            let attempts = 0;
            
            while (attempts < maxAttempts) {
                const x = Math.random() * (containerWidth - width);
                const y = Math.random() * (containerHeight - height);
                
                if (!checkOverlap(x, y, width, height, existingWords)) {
                    return { x, y };
                }
                attempts++;
            }
            
            // If no position found, place randomly (might overlap)
            return {
                x: Math.random() * (containerWidth - width),
                y: Math.random() * (containerHeight - height)
            };
        }
        
        // Create word element
        function createWordElement(word, frequency, maxFreq, container) {
            const wordElement = document.createElement('div');
            wordElement.className = 'word-cloud-word fade-in';
            wordElement.textContent = word;
            
            const fontSize = getFontSize(frequency, maxFreq);
            const color = getWordColor(frequency, maxFreq);
            
            wordElement.style.fontSize = fontSize + 'px';
            wordElement.style.color = color;
            wordElement.style.lineHeight = '1';
            
            // Add to container temporarily to measure dimensions
            wordElement.style.position = 'absolute';
            wordElement.style.visibility = 'hidden';
            container.appendChild(wordElement);
            
            const rect = wordElement.getBoundingClientRect();
            const width = rect.width;
            const height = rect.height;
            
            // Remove from container
            container.removeChild(wordElement);
            
            return { element: wordElement, width, height, fontSize, frequency };
        }
        
        // Show word tooltip
        function showWordTooltip(event, word, frequency) {
            wordTooltip.innerHTML = `<strong>${word}</strong><br>Frequency: ${frequency}`;
            wordTooltip.style.left = event.pageX + 10 + 'px';
            wordTooltip.style.top = event.pageY - 10 + 'px';
            wordTooltip.classList.add('visible');
        }
        
        // Hide word tooltip
        function hideWordTooltip() {
            wordTooltip.classList.remove('visible');
        }
        
        // Generate and display word cloud
        function generateWordCloud() {
            const text = inputText.value.trim();
            
            if (!text) {
                showEmptyState();
                return;
            }
            
            // Show loading state
            showLoadingState();
            
            setTimeout(() => {
                try {
                    currentText = text;
                    const result = processText(text);
                    wordFrequencies = result.frequencies;
                    
                    // Get top words by frequency
                    const maxWords = parseInt(maxWordsSlider.value);
                    const sortedWords = Object.entries(wordFrequencies)
                        .sort(([,a], [,b]) => b - a)
                        .slice(0, maxWords);
                    
                    if (sortedWords.length === 0) {
                        showEmptyState('No words found after filtering');
                        return;
                    }
                    
                    displayedWords = sortedWords;
                    const maxFreq = sortedWords[0][1];
                    
                    // Clear container
                    wordCloudContainer.innerHTML = '';
                    
                    const containerRect = wordCloudContainer.getBoundingClientRect();
                    const containerWidth = containerRect.width - 40; // padding
                    const containerHeight = containerRect.height - 40; // padding
                    
                    const positionedWords = [];
                    
                    // Create and position words
                    sortedWords.forEach(([word, frequency], index) => {
                        const wordData = createWordElement(word, frequency, maxFreq, wordCloudContainer);
                        const position = findPosition(
                            wordData.width, 
                            wordData.height, 
                            containerWidth, 
                            containerHeight, 
                            positionedWords
                        );
                        
                        wordData.element.style.left = (position.x + 20) + 'px';
                        wordData.element.style.top = (position.y + 20) + 'px';
                        wordData.element.style.visibility = 'visible';
                        wordData.element.style.animationDelay = (index * 0.1) + 's';
                        
                        // Add event listeners
                        wordData.element.addEventListener('mouseenter', (e) => {
                            showWordTooltip(e, word, frequency);
                        });
                        
                        wordData.element.addEventListener('mouseleave', hideWordTooltip);
                        
                        wordData.element.addEventListener('mousemove', (e) => {
                            wordTooltip.style.left = e.pageX + 10 + 'px';
                            wordTooltip.style.top = e.pageY - 10 + 'px';
                        });
                        
                        wordCloudContainer.appendChild(wordData.element);
                        
                        positionedWords.push({
                            x: position.x,
                            y: position.y,
                            width: wordData.width,
                            height: wordData.height
                        });
                    });
                    
                    // Update statistics
                    updateStatistics(result, sortedWords.length);
                    
                    // Update word count display
                    wordCount.textContent = `${sortedWords.length} words`;
                    
                } catch (error) {
                    console.error('Error generating word cloud:', error);
                    showEmptyState('Error generating word cloud');
                }
            }, 500);
        }
        
        // Show loading state
        function showLoadingState() {
            wordCloudContainer.innerHTML = `
                <div class="empty-state">
                    <div class="spinner mb-4"></div>
                    <p class="text-lg font-medium">Generating Word Cloud...</p>
                </div>
            `;
        }
        
        // Show empty state
        function showEmptyState(message = null) {
            const defaultMessage = message || 'Enter some text and click "Generate Cloud" to create a visualization';
            
            wordCloudContainer.innerHTML = `
                <div class="empty-state">
                    <i class="fas fa-cloud text-6xl text-[#374151] mb-4"></i>
                    <p class="text-lg font-medium">Your Word Cloud Will Appear Here</p>
                    <p class="text-sm mt-2">${defaultMessage}</p>
                </div>
            `;
            
            wordCount.textContent = '0 words';
            statsPanel.style.display = 'none';
        }
        
        // Update statistics panel
        function updateStatistics(result, wordsDisplayed) {
            document.getElementById('totalWords').textContent = result.totalWords;
            document.getElementById('uniqueWords').textContent = Object.keys(result.frequencies).length;
            document.getElementById('displayedWords').textContent = wordsDisplayed;
            document.getElementById('filteredWords').textContent = result.filteredCount;
            
            statsPanel.style.display = 'block';
        }
        
        // Reset application to initial state
        function resetApplication() {
            inputText.value = `Natural language processing is a subfield of artificial intelligence that focuses on the interaction between computers and human language. It involves developing algorithms and models that can understand, interpret, and generate human language. Word clouds are a popular visualization technique in natural language processing that display the most frequent words in a text corpus, with word size representing frequency. This makes it easy to identify key themes and topics within large amounts of text data.`;
            
            wordFrequencies = {};
            displayedWords = [];
            currentText = '';
            
            maxWordsSlider.value = 50;
            updateMaxWordsDisplay();
            
            filterStopWordsCheckbox.checked = true;
            
            hideWordTooltip();
            showEmptyState();
            
            inputText.focus();
        }
        
        // Initialize when DOM is loaded
        document.addEventListener('DOMContentLoaded', init);
    </script>
</body>
</html>
